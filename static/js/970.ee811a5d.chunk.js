"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[970],{5970:function(t,s,e){e.r(s),e.d(s,{default:function(){return F}});var n=e(8683),r=e(5671),u=e(3144),i=e(136),o=e(516),a=e(2791),c={},l=e(1268),p=e(184),d=(a.Component,e(9439)),f=function(t){var s=(0,a.useState)(!1),e=(0,d.Z)(s,2),n=e[0],r=e[1],u=(0,a.useState)(t.status),i=(0,d.Z)(u,2),o=i[0],c=i[1];(0,a.useEffect)((function(){c(t.status)}),[t.status]);return(0,p.jsxs)("div",{children:[n&&(0,p.jsx)("div",{children:(0,p.jsx)("input",{onBlur:function(){r(!1),t.updateUserStatus(o)},autoFocus:!0,value:o,onChange:function(t){return function(t){c(t.currentTarget.value)}(t)}})}),!n&&(0,p.jsx)("div",{children:(0,p.jsx)("span",{onDoubleClick:function(){r(!0)},children:t.status||"-------"})})]})},h=function(t){return t.profile?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{}),(0,p.jsxs)("div",{children:[(0,p.jsx)("img",{src:t.profile.photos.large}),(0,p.jsx)(f,{status:t.status,updateUserStatus:t.updateUserStatus})]})]}):(0,p.jsx)(l.Z,{})},j=e(8859),x="Post_item__Crinl",g=function(t){return(0,p.jsxs)("div",{className:x,children:[(0,p.jsx)("img",{src:"http://c.files.bbci.co.uk/17B2C/production/_117586079_avatar_getty.jpg"}),t.message," ",(0,p.jsx)("br",{}),t.likesCount]})},m=e(6139),v=e(704),k=e(5421),C=e(8154),P=(0,k.D)(10),S=(0,v.Z)({form:"myPost"})((function(t){return(0,p.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,p.jsx)(m.Z,{tag:"textarea",component:C.N,name:"newPost",validate:[k.C,P],placeholder:"Post message"}),(0,p.jsx)("button",{children:"ADD"})]})})),U=a.memo((function(t){console.log("rerender");return(0,p.jsxs)("div",{children:["My posts",(0,p.jsx)(S,{onSubmit:function(s){t.addPost(s.newPost)}}),(0,p.jsx)("div",{children:t.posts.map((function(t){return(0,p.jsx)(g,{message:t.message,likesCount:t.likesCount},t.id)}))})]})})),Z=e(364),b=(0,Z.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(s){t((0,j.Wl)(s))}}}))(U),_=function(t){return(0,p.jsxs)("div",{className:c.content,children:[(0,p.jsx)(h,{profile:t.profile,status:t.status,updateUserStatus:t.updateUserStatus}),(0,p.jsx)(b,{})]})},y=e(3530),A=e(7689),D=e(5927),w=e(7781),z=function(t){(0,i.Z)(e,t);var s=(0,o.Z)(e);function e(){return(0,r.Z)(this,e),s.apply(this,arguments)}return(0,u.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;if(t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getUserStatus(t),!this.props.isAuth)return(0,p.jsx)(A.Fg,{to:"/login"})}},{key:"render",value:function(){return(0,p.jsx)(_,(0,n.Z)({},this.props))}}]),e}(a.Component),F=(0,w.qC)((0,Z.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId}}),{setUserProfile:j.$l,getUserProfile:j.et,getUserStatus:j.Tq,updateUserStatus:j.OL}),y.E,D.Z)(z)},5927:function(t,s,e){var n=e(8683),r=(e(2791),e(7689)),u=e(364),i=e(184),o=function(t){return{isAuth:t.auth.isAuth}};s.Z=function(t){return(0,u.$j)(o)((function(s){return s.isAuth?(0,i.jsx)(t,(0,n.Z)({},s)):(0,i.jsx)(r.Fg,{to:"/login"})}))}}}]);
//# sourceMappingURL=970.ee811a5d.chunk.js.map